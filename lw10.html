<!DOCTYPE html>
  <head>
    <title>106-1 Electronics</title>
    <!--這是註解-->
    <meta charset="UTF-8">
    <style>
    body{background-color:hsla(0, 100%, 70%, 0.3);}
    h2{color: grey;}
    h2.sansserif{font-family: Arial,Helvetica,sans-serif;}
    </style>
  </head>
  <body>
    <h3>拍一下會亮過三秒再拍會變暗</h3>
    <p>
    #define Ain  A2<br>
    #define  led  6<br>
int vin;<br>
int diff;<br>
int vmax;<br>
int vmin;<br>
int counter=0;<br>
void setup() <br>
{<br>
    Serial.begin(9600);<br>
    pinMode(led,OUTPUT);<br>
}<br>
void loop()<br>
{<br>
    vmax=0;<br>
    vmin=1026;<br>
    for(int i=0;i<200;i++)<br>
    {<br>
        vin=analogRead(Ain);<br>
        if(vin>vmax) vmax=vin;<br>
        if(vin<vmin) vmin=vin;<br>
    }<br>
    diff=vmax-vmin;<br>
    Serial.print("vmax=");<br>
    Serial.print(vmax);<br>
    Serial.print("  vmin=");<br>
    Serial.print(vmin);<br>
    Serial.print("  diff=");<br>
    Serial.println(diff);<br>
    if(diff>10)<br>
    {<br>    
        if(counter%2==1)<br>
        {<br>
            digitalWrite(led,HIGH);<br>
            delay(3000);<br>
        }<br>
        else<br>
        {<br>
            digitalWrite(led,LOW);<br>
            delay(3000);<br>
        }<br>
        counter++;<br>
    }<br>
}<br>
      </p>
  </body>
</html>
